{
    "name": "IPC Approval Workflow",
    "doctype": "Workflow",
    "document_type": "IPC",
    "is_active": 1,
    "workflow_state_field": "workflow_state",
    "send_email_alert": 0,
    "states": [
        {
            "state": "Draft",
            "doc_status": 0,
            "allow_edit": "IPC Manager",
            "is_optional_state": 0
        },
        {
            "state": "Pending Approval",
            "doc_status": 0,
            "allow_edit": "IPC Approver",
            "is_optional_state": 0
        },
        {
            "state": "Approved",
            "doc_status": 1,
            "allow_edit": "IPC Approver",
            "is_optional_state": 0
        },
        {
            "state": "Invoiced",
            "doc_status": 1,
            "allow_edit": "",
            "is_optional_state": 0
        },
        {
            "state": "Rejected",
            "doc_status": 0,
            "allow_edit": "IPC Manager",
            "is_optional_state": 0
        }
    ],
    "transitions": [
        {
            "state": "Draft",
            "action": "Request Approval",
            "next_state": "Pending Approval",
            "allowed": "IPC Manager",
            "allow_self_approval": 1
        },
        {
            "state": "Pending Approval",
            "action": "Approve",
            "next_state": "Approved",
            "allowed": "IPC Approver",
            "allow_self_approval": 0
        },
        {
            "state": "Pending Approval",
            "action": "Reject",
            "next_state": "Rejected",
            "allowed": "IPC Approver",
            "allow_self_approval": 0
        },
        {
            "state": "Rejected",
            "action": "Request Approval",
            "next_state": "Pending Approval",
            "allowed": "IPC Manager",
            "allow_self_approval": 1
        }
    ]
}